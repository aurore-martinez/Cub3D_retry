#!/bin/bash

GRIND=(valgrind --leak-check=full --track-origins=yes --show-leak-kinds=all --track-fds=yes)
BIN="./cub3D"
MAPDIR="assets/maps_invalids"

MAPS=($(find "$MAPDIR" -type f -name "*.cub"))

for map in "${MAPS[@]}"; do
	echo
	echo
    echo "========== $map =========="
	echo
    "${GRIND[@]}" "$BIN" "$map"
    echo
	echo
done
